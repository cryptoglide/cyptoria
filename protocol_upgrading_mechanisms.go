// Optimize gas cost in function execution
// Fix compatibility issues with MetaMask
